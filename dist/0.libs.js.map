{"version":3,"sources":["webpack:///0.libs.js","webpack:///./src/pages/supplylist/index.js","webpack:///./src/pages/supplylist/component/supplychoose.js","webpack:///./src/pages/supplylist/component/supplychoose.html","webpack:///./src/pages/supplylist/component/manual.js","webpack:///./src/pages/supplylist/component/manual.html","webpack:///./src/pages/supplylist/component/fromcategory.js","webpack:///./src/pages/supplylist/component/fromcategory.html","webpack:///./src/pages/supplylist/component/supplylistoper.js","webpack:///./src/pages/supplylist/component/supplylistoper.html","webpack:///./src/pages/supplylist/index.html"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","init","dt","window","DataTable","meta","id","name","industry","area","types","state","priceArea","dtAssign","materialName","viewmodel","_knockout2","observable","checkboxValue","observableArray","isShowRefer","isShowAssigned","priceAreaValue","invitedSupplyList","MaterialList","handleSupplyApplyChange","handleInviteSupplier","handleAssignArea","priceAreaList","value","label","rows","rowsAssign","columnsAssign","title","type","width","field","renderFn","row","template","productName","productDesc","purchaseamount","unit","columns","compFn","params","operationList","click","evt","alert","push","pritemid","suggestSupplierName","plannerName","planDeptName","reqdate","bmemo","reqOrgName","puorgDocName","pureqid","productSpec","productType","quotaUnit","productCode","subscribe","val","setSimpleData","ycloud","$refs","setColVisibleByField","applyBindings","document","getElementById","vm","Object","defineProperty","_knockout","_index","_index2","this","curIndex","tabIndex","materialList","handleFinish","bind","items","handleTabChange","item","allSupplyCount","computed","length","_supplychoose","_supplychoose2","components","register","viewModel","_selected","visible","index","indexOf","splice","supplyList","areaList","selectedIds","map","supply","setDataSelected","data","forEach","loadData","_manual","_manual2","supplyLevelList","supplyLevel","levelList","levels","isShowSearch","registerMoney","levelDisabled","targetOrgVisible","targetOrg","supplyRows","supplyCols","handleSearch","handleEditCondition","searchCols","serviceArea","supplyLevelChange","loadLevelList","loadSupplyLevelList","_fromcategory","_fromcategory2","_supplylistoper","_supplylistoper2"],"mappings":"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","file":"0.libs.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _knockout = __webpack_require__(0);\n\nvar _knockout2 = _interopRequireDefault(_knockout);\n\n__webpack_require__(17);\n\n__webpack_require__(23);\n\nvar _index = __webpack_require__(25);\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction init() {\n  var dt = new window.DataTable({\n    meta: {\n      id: '',\n      name: '',\n      industry: '',\n      area: '',\n      types: '',\n      state: '',\n      priceArea: ''\n    }\n  });\n  var dtAssign = new window.DataTable({\n    meta: {\n      id: '',\n      materialName: ''\n    }\n  });\n  var viewmodel = {\n    id: _knockout2.default.observable(),\n    checkboxValue: _knockout2.default.observableArray(),\n    isShowRefer: _knockout2.default.observable(false),\n    isShowAssigned: _knockout2.default.observable(false),\n    priceAreaValue: _knockout2.default.observable(2),\n    invitedSupplyList: _knockout2.default.observableArray(),\n    MaterialList: _knockout2.default.observableArray(),\n    handleSupplyApplyChange: function handleSupplyApplyChange() {\n      viewmodel.isShowRefer(true);\n    },\n    handleInviteSupplier: function handleInviteSupplier() {\n      viewmodel.isShowRefer(true);\n    },\n    handleAssignArea: function handleAssignArea() {\n      viewmodel.isShowAssigned(true);\n    },\n\n    priceAreaList: [{\n      value: 1,\n      label: '按供货目录分配'\n    }, {\n      value: 2,\n      label: '手动分配'\n    }, {\n      value: 3,\n      label: '不限定报价范围'\n    }],\n    rows: dt.rows,\n    rowsAssign: dtAssign.rows,\n    columnsAssign: [{\n      title: '',\n      type: 'checkbox',\n      width: 60\n    }, {\n      title: '物料名称',\n      width: '20%',\n      field: 'productName',\n      type: 'render',\n      renderFn: function renderFn(row) {\n        var template = '<div>' + row.productName + '</div>';\n        template += '<div class=\"y-text-assist\">' + row.productDesc() + '</div>';\n        return template;\n      }\n    }, {\n      title: '采购数量',\n      width: '10%',\n      field: 'purchaseamount',\n      type: 'render',\n      renderFn: function renderFn(row) {\n        return row.purchaseamount + row.unit;\n      }\n    }, {\n      title: '建议供应商',\n      width: '10%',\n      field: 'suggestSupplierName'\n    }, {\n      title: '需求组织/计划员/计划部门',\n      width: '20%',\n      field: 'reqOrgName'\n    }, {\n      title: '需求时间',\n      width: '10%',\n      field: 'reqdate'\n    }, {\n      title: '备注',\n      width: '20%',\n      field: 'bmemo'\n    }],\n    columns: [{\n      title: '',\n      type: 'checkbox',\n      width: 60\n    }, {\n      title: '供应商',\n      field: 'name',\n      width: '20%'\n    }, {\n      title: '所属行业',\n      field: 'industry',\n      width: '20%'\n    }, {\n      title: '所属地区',\n      field: 'area',\n      width: '15%'\n    }, {\n      title: '经营模式',\n      field: 'types',\n      width: '15%'\n    }, {\n      title: '已分配/采购',\n      field: 'state',\n      width: '15%',\n      type: 'component',\n      compFn: function compFn(row) {\n        return {\n          name: 'y-supplylistoper',\n          params: {\n            row: row\n          }\n        };\n      }\n    }, {\n      title: '',\n      field: 'priceArea',\n      width: '15%',\n      type: 'operation',\n      operationList: [{\n        title: '取消邀请',\n        click: function click(row, evt) {\n          alert('无法取消');\n          return false;\n        }\n      }]\n    }]\n    // 模拟后端数据\n  };viewmodel.MaterialList.push({\n    productName: 'PROD002901',\n    pritemid: '101',\n    productDesc: _knockout2.default.observable('物料描述'),\n    purchaseamount: 12,\n    unit: '元',\n    suggestSupplierName: '建议供应闪',\n    id: _knockout2.default.observable('1'),\n    plannerName: '计划员',\n    planDeptName: '计划部门',\n    reqdate: _knockout2.default.observable('2014-01-01'),\n    bmemo: _knockout2.default.observable('行备注'),\n    reqOrgName: _knockout2.default.observable('需求组织名称'),\n    puorgDocName: _knockout2.default.observable('采购组织名称'),\n    pureqid: _knockout2.default.observable(1),\n    productSpec: _knockout2.default.observable('商品规格'),\n    productType: _knockout2.default.observable('商品型号'),\n    quotaUnit: _knockout2.default.observable('报价单位'),\n    productCode: '物料编码'\n  });\n  viewmodel.invitedSupplyList.subscribe(function (val) {\n    dt.setSimpleData(val);\n  });\n  viewmodel.priceAreaValue.subscribe(function (val) {\n    if (val === 2) {\n      window.ycloud.$refs['invitedGrid'].setColVisibleByField('state', true);\n    } else {\n      window.ycloud.$refs['invitedGrid'].setColVisibleByField('state', false);\n    }\n  });\n  _knockout2.default.applyBindings(viewmodel, document.getElementById('app'));\n  window.vm = viewmodel;\n}\n\nexports.default = {\n  init: init,\n  template: _index2.default\n};\n\n/***/ }),\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _knockout = __webpack_require__(0);\n\nvar _knockout2 = _interopRequireDefault(_knockout);\n\nvar _supplychoose = __webpack_require__(18);\n\nvar _supplychoose2 = _interopRequireDefault(_supplychoose);\n\n__webpack_require__(19);\n\n__webpack_require__(21);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction init(params) {\n  this.curIndex = _knockout2.default.observable(0);\n  this.tabIndex = _knockout2.default.observable(1);\n  this.isShowRefer = params.isShowRefer;\n  this.materialList = params.materialList || _knockout2.default.observableArray();\n  this.handleFinish = function () {\n    this.isShowRefer(false);\n  }.bind(this);\n  this.items = _knockout2.default.observableArray([{\n    title: '手工选择',\n    state: 1\n  }, {\n    title: '从供货目录选择',\n    state: 2\n  }]);\n  // 和items 两项值对应\n  this.handleTabChange = function (item) {\n    this.tabIndex(item.state);\n  }.bind(this);\n  this.invitedSupplyList = params.invitedSupplyList || _knockout2.default.observableArray([]);\n  this.allSupplyCount = _knockout2.default.computed(function () {\n    return this.invitedSupplyList().length;\n  }.bind(this));\n}\n_knockout2.default.components.register('y-supplychoose', {\n  viewModel: init,\n  template: _supplychoose2.default\n});\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<y-boxfilter>\\n  <y-state-tabs params=\\\"style:{marginBottom:0},handler: $parent.handleTabChange, index: $parent.curIndex, items: $parent.items, hideNum:true\\\"></y-state-tabs>\\n  <div class=\\\"pull-right\\\">\\n    <span style=\\\"margin-right: 10px\\\">已邀请 <span data-bind=\\\"text:$parent.allSupplyCount\\\"></span> 名供应商</span>\\n    <y-button params=\\\"type:'primary',click:$parent.handleFinish\\\">&nbsp;&nbsp;完成&nbsp;&nbsp;</y-button>\\n  </div>\\n</y-boxfilter>\\n<y-boxcontent data-bind=\\\"visible: tabIndex() == 1\\\">\\n  <y-manual params=\\\"invitedSupplyList:$parent.invitedSupplyList\\\"></y-manual>\\n</y-boxcontent>\\n<y-boxcontent data-bind=\\\"visible: tabIndex() == 2\\\">\\n  <y-fromcategory params=\\\"materialList: $parent.materialList,invitedSupplyList:$parent.invitedSupplyList\\\">\\n\\n  </y-fromcategory>\\n</y-boxcontent>\\n\";\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _knockout = __webpack_require__(0);\n\nvar _knockout2 = _interopRequireDefault(_knockout);\n\nvar _manual = __webpack_require__(20);\n\nvar _manual2 = _interopRequireDefault(_manual);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction init(params) {\n  this.columns = [{\n    title: '供应商名称',\n    field: 'name',\n    width: '26%'\n  }, {\n    title: '所属行业',\n    field: 'industry',\n    width: '20%'\n  }, {\n    title: '所属地区',\n    field: 'area',\n    width: '16%'\n  }, {\n    title: '经营模式',\n    field: 'types',\n    width: '27%'\n  }, {\n    field: 'id',\n    title: '操作',\n    type: 'operation',\n    operationList: [{\n      title: '邀请',\n      click: function (row) {\n        row._selected(true);\n        this.invitedSupplyList.push(row);\n      }.bind(this),\n      visible: function visible(row) {\n        return !row._selected();\n      }\n    }, {\n      title: '已邀请',\n      click: function (row, evt) {\n        row._selected(false);\n        var index = this.invitedSupplyList.indexOf(row);\n        this.invitedSupplyList.splice(index, 1);\n      }.bind(this),\n      visible: function visible(row) {\n        return row._selected();\n      }\n    }]\n  }];\n  this.rows = _knockout2.default.observableArray();\n  this.supplyList = [{\n    value: 1,\n    label: '已交易供应商'\n  }, {\n    value: 2,\n    label: '自有合格供应商'\n  }, {\n    value: 3,\n    label: '供货目录供应商'\n  }, {\n    value: 4,\n    label: '待准入供应商'\n  }, {\n    value: 5,\n    label: '盘外供应商'\n  }];\n  this.areaList = [{\n    value: 1,\n    label: '北京'\n  }, {\n    value: 2,\n    label: '上海'\n  }, {\n    value: 3,\n    label: '天津'\n  }];\n  // 选中的供应商\n  this.invitedSupplyList = params.invitedSupplyList || _knockout2.default.observableArray();\n  // 选中的id\n  this.selectedIds = _knockout2.default.computed(function () {\n    return this.invitedSupplyList().map(function (supply) {\n      return supply.id;\n    });\n  }.bind(this));\n  this.setDataSelected = function (selectedIds, data) {\n    data.forEach(function (item) {\n      data._selected = selectedIds.indexOf(data.id) >= 0;\n    });\n  };\n  this.loadData = function (params) {\n    var data = [{\n      id: 1,\n      name: '用友网络科技股份有限公司',\n      industry: 'IT，软件，硬件，云服务',\n      area: '北京',\n      types: '服务方式'\n    }];\n    this.setDataSelected(this.selectedIds(), data);\n    this.rows(data);\n  }.bind(this);\n  this.loadData();\n}\n_knockout2.default.components.register('y-manual', {\n  viewModel: init,\n  template: _manual2.default\n});\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"row\\\">\\n  <div class=\\\"col-md-2\\\" style=\\\"margin-bottom: 10px\\\">\\n    <y-select params=\\\"placeholder:'备选供应商', dataList: supplyList\\\"></y-select>\\n  </div>\\n  <div class=\\\"col-md-2\\\">\\n    <y-input params=\\\"placeholder:'供应商名称'\\\"></y-input>\\n  </div>\\n  <div class=\\\"col-md-2\\\">\\n    <y-select params=\\\"placeholder:'所属地区', dataList: areaList\\\"></y-select>\\n  </div>\\n  <div class=\\\"col-md-12\\\">\\n    <y-grid params=\\\"columns: columns, rows: rows\\\"></y-grid>\\n  </div>\\n</div>\\n\";\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _knockout = __webpack_require__(0);\n\nvar _knockout2 = _interopRequireDefault(_knockout);\n\nvar _fromcategory = __webpack_require__(22);\n\nvar _fromcategory2 = _interopRequireDefault(_fromcategory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction init(params) {\n  // 选中的供应商\n  this.invitedSupplyList = params.invitedSupplyList || _knockout2.default.observableArray();\n  this.supplyLevelList = _knockout2.default.observableArray();\n  this.supplyLevel = _knockout2.default.observable({});\n  this.levelList = _knockout2.default.observableArray();\n  this.levels = _knockout2.default.observableArray();\n  this.isShowSearch = _knockout2.default.observable(true);\n  this.registerMoney = _knockout2.default.observable();\n  this.levelDisabled = _knockout2.default.observable(true);\n  this.targetOrgVisible = _knockout2.default.observable(false);\n  this.targetOrg = _knockout2.default.observable(1);\n  this.supplyRows = _knockout2.default.observableArray();\n  this.supplyCols = [{\n    title: '供应商名称',\n    field: 'name',\n    width: '26%'\n  }, {\n    title: '所属行业',\n    field: 'industry',\n    width: '20%'\n  }, {\n    title: '所属地区',\n    field: 'area',\n    width: '16%'\n  }, {\n    title: '经营模式',\n    field: 'types',\n    width: '12%'\n  }, {\n    title: '资质',\n    field: 'types',\n    width: '13%'\n  }];\n  this.materialList = params.materialList || _knockout2.default.observableArray();\n  this.handleSearch = function () {\n    this.isShowSearch(false);\n  }.bind(this);\n  this.handleEditCondition = function () {\n    this.isShowSearch(true);\n  }.bind(this);\n  this.searchCols = [{\n    title: '物料名称',\n    field: 'productName',\n    width: 120\n  }, {\n    title: '采购数量',\n    field: 'purchaseamount',\n    width: 120\n  }, {\n    title: '需求说明',\n    field: 'productDesc',\n    width: 120\n  }, {\n    title: '资质要求',\n    field: 'productName',\n    width: 120\n  }];\n  this.targetOrg.subscribe(function (val) {\n    if (val === 1) {\n      this.targetOrgVisible(false);\n    } else {\n      this.targetOrgVisible(true);\n    }\n  }.bind(this));\n  // 选中的id\n  this.selectedIds = _knockout2.default.computed(function () {\n    return this.invitedSupplyList().map(function (supply) {\n      return supply.id;\n    });\n  }.bind(this));\n  this.serviceArea = [{\n    value: 1,\n    label: '能购服务需求组织的供应商'\n  }, {\n    value: 2,\n    label: '指定组织'\n  }];\n  // 供应商等级体系选择\n  this.supplyLevelChange = function (val) {\n    this.loadLevelList(val);\n  }.bind(this);\n  // 获取供应商等级体系列表\n  this.loadSupplyLevelList = function () {\n    this.supplyLevelList.push({\n      value: '1',\n      label: '等级体系1'\n    });\n    this.supplyLevelList.push({\n      value: '2',\n      label: '等级体系2'\n    });\n  }.bind(this);\n  // 获取等级列表（根据等级体系选项）\n  this.loadLevelList = function (val) {\n    if (val) {\n      this.levelDisabled(false);\n    } else {\n      this.levelDisabled(true);\n    }\n    this.levelList.push({\n      value: '1',\n      label: '等级1'\n    });\n    this.levelList.push({\n      value: '2',\n      label: '等级2'\n    });\n  }.bind(this);\n  this.loadSupplyLevelList();\n}\n_knockout2.default.components.register('y-fromcategory', {\n  viewModel: init,\n  template: _fromcategory2.default\n});\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<style>\\n  .iconWY{\\n\\n  }\\n  .iconWY:before{\\n    content: '万元'\\n  }\\n  .y-input::-webkit-outer-spin-button, .y-input::-webkit-inner-spin-button{\\n    -webkit-appearance: none;\\n  }\\n</style>\\n<div class=\\\"row\\\">\\n  <y-form params=\\\"labelWidth: '110px'\\\" data-bind=\\\"visible:isShowSearch\\\">\\n    <div class=\\\"col-md-3\\\">\\n      <y-formitem params=\\\"label:'供应商等级体系'\\\">\\n        <y-select params=\\\"value:$parentContext.$parent.supplyLevel,clearable:true,dataList:$parentContext.$parent.supplyLevelList,placeholder:'请选择',onChange:$parentContext.$parent.supplyLevelChange\\\"></y-select>\\n      </y-formitem>\\n    </div>\\n    <div class=\\\"col-md-3\\\" data-bind=\\\"visible: !$parent.levelDisabled()\\\">\\n      <y-formitem params=\\\"label:'等级'\\\">\\n        <y-select params=\\\"multiple:true,multiValue:$parentContext.$parent.levels,dataList:$parentContext.$parent.levelList,placeholder:'请选择'\\\"></y-select>\\n      </y-formitem>\\n    </div>\\n    <div class=\\\"col-md-12\\\">\\n      <y-formitem params=\\\"label:'服务范围'\\\">\\n        <y-radio class=\\\"y-inline-block\\\" params=\\\"dataList:$parentContext.$parent.serviceArea, value:$parentContext.$parent.targetOrg\\\"></y-radio>\\n        <div class=\\\"y-inline-block\\\" data-bind=\\\"visible:$parentContext.$parent.targetOrgVisible\\\" style=\\\"width: 150px\\\"><y-select></y-select></div>\\n      </y-formitem>\\n    </div>\\n    <div class=\\\"col-md-3\\\">\\n      <y-formitem params=\\\"label:'注册金额'\\\">\\n        <y-input params=\\\"value:$parentContext.$parent.registerMoney,placeholder: '大于', iconClass:'iconWY', type:'number'\\\"></y-input>\\n      </y-formitem>\\n    </div>\\n    <div class=\\\"col-md-12\\\">\\n      <y-formitem params=\\\"label:'资历要求',style:{height:'auto'}\\\">\\n        <y-grid params=\\\"maxheight:'auto',rows: $parentContext.$parent.materialList,columns:$parentContext.$parent.searchCols\\\"></y-grid>\\n      </y-formitem>\\n    </div>\\n    <div class=\\\"col-md-3\\\">\\n      <y-formitem params=\\\"label:''\\\">\\n        <y-button params=\\\"type:'primary',click:$parentContext.$parent.handleSearch\\\">搜索</y-button>\\n      </y-formitem>\\n    </div>\\n  </y-form>\\n</div>\\n<div class=\\\"row\\\" data-bind=\\\"visible:!isShowSearch()\\\">\\n  <div class=\\\"col-sm-10\\\" >\\n    <span class=\\\"y-text-primary\\\">条件：</span>\\n    <span class=\\\"y-text-assist\\\" style=\\\"margin-left: 20px\\\" >供应商等级体系：</span>\\n\\n    <y-tag params=\\\"text: supplyLevel().label ? supplyLevel().label : '--'\\\"></y-tag>\\n    <span class=\\\"y-text-assist\\\" style=\\\"margin-left: 20px\\\" data-bind=\\\"visible:levels().length > 0\\\">供应商等级：</span>\\n    <span data-bind=\\\"foreach:{data:levels, as:'item'}\\\">\\n      <y-tag params=\\\"text: item.label\\\"></y-tag>\\n    </span>\\n    <span class=\\\"y-text-assist\\\" style=\\\"margin-left: 20px\\\" >注册金额：</span>\\n    <y-tag params=\\\"text: function () {return '>' + (registerMoney() ? registerMoney() : '0') + '万'}()\\\"></y-tag>\\n  </div>\\n  <div class=\\\"col-sm-2 text-right\\\">\\n    <span class=\\\"y-text-link\\\" data-bind=\\\"click:handleEditCondition\\\">编辑条件</span>\\n  </div>\\n  <div class=\\\"col-sm-12\\\">\\n    <y-grid params=\\\"columns:supplyCols,rows:supplyRows\\\"></y-grid>\\n  </div>\\n</div>\\n\\n\";\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _knockout = __webpack_require__(0);\n\nvar _knockout2 = _interopRequireDefault(_knockout);\n\nvar _supplylistoper = __webpack_require__(24);\n\nvar _supplylistoper2 = _interopRequireDefault(_supplylistoper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction init(params) {}\n_knockout2.default.components.register('y-supplylistoper', {\n  viewModel: init,\n  template: _supplylistoper2.default\n});\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div>\\n  <a href=\\\"\\\" class=\\\"y-text-link\\\">115/200</a>\\n</div>\\n\";\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<y-box data-bind=\\\"visible:!isShowRefer() && !isShowAssigned()\\\">\\n  <y-boxfilter params=\\\"title:'供应商参照交互'\\\">\\n  </y-boxfilter>\\n  <y-boxcontent params=\\\"title: '询价页面供应商参照'\\\">\\n    <y-checkbox params=\\\"dataList:[{label:'邀请指定供应商询价', value:'1'}], value: $root.checkboxValue\\\"></y-checkbox>\\n    <!-- ko if: $root.checkboxValue().length >= 1 -->\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-sm-2\\\"><span style=\\\"line-height: 32px\\\">邀请供应商</span></div>\\n      <div class=\\\"col-sm-7\\\">\\n        <y-form params=\\\"labelWidth: '100px'\\\">\\n          <y-formitem params=\\\"label:'报价范围：'\\\">\\n            <y-radio params=\\\"dataList:$root.priceAreaList, value:$root.priceAreaValue\\\"></y-radio>\\n          </y-formitem>\\n        </y-form>\\n      </div>\\n      <div class=\\\"col-sm-3 text-right\\\" style=\\\"line-height: 32px\\\">\\n        <a class=\\\"y-text-link\\\" data-bind=\\\"visible:$root.rows().length>0,click:$root.handleAssignArea\\\">分配报价范围</a>\\n        <a class=\\\"y-text-link\\\" data-bind=\\\"visible:$root.rows().length>0,click:$root.handleInviteSupplier\\\">邀请供应商</a>\\n      </div>\\n    </div>\\n    <y-grid params=\\\"ref:'invitedGrid',isDataTable:true,maxheight:'auto', rows: $root.rows, columns: $root.columns\\\">\\n      <div>\\n        <y-button params=\\\"click:$root.handleSupplyApplyChange\\\">邀请供应商</y-button>\\n      </div>\\n    </y-grid>\\n    <!-- /ko -->\\n  </y-boxcontent>\\n</y-box>\\n<y-box data-bind=\\\"visible:isShowRefer\\\">\\n  <y-supplychoose params=\\\"materialList: $root.MaterialList,invitedSupplyList:$parent.invitedSupplyList, isShowRefer:$parent.isShowRefer\\\"></y-supplychoose>\\n</y-box>\\n<y-modal params=\\\"visible: isShowAssigned, width:'70%',errormsg:'请选择组织',title:'分配报价品'\\\">\\n  <y-grid params=\\\"maxheight:'400px',rows:$root.MaterialList,columns:$root.columnsAssign\\\"></y-grid>\\n</y-modal>\\n\";\n\n/***/ })\n]);\n\n\n// WEBPACK FOOTER //\n// 0.libs.js","import ko from 'knockout'\nimport './component/supplychoose'\nimport './component/supplylistoper'\nimport template from './index.html'\nfunction init () {\n  let dt = new window.DataTable({\n    meta: {\n      id: '',\n      name: '',\n      industry: '',\n      area: '',\n      types: '',\n      state: '',\n      priceArea: ''\n    }\n  })\n  let dtAssign = new window.DataTable({\n    meta: {\n      id: '',\n      materialName: ''\n    }\n  })\n  let viewmodel = {\n    id: ko.observable(),\n    checkboxValue: ko.observableArray(),\n    isShowRefer: ko.observable(false),\n    isShowAssigned: ko.observable(false),\n    priceAreaValue: ko.observable(2),\n    invitedSupplyList: ko.observableArray(),\n    MaterialList: ko.observableArray(),\n    handleSupplyApplyChange () {\n      viewmodel.isShowRefer(true)\n    },\n    handleInviteSupplier () {\n      viewmodel.isShowRefer(true)\n    },\n    handleAssignArea () {\n      viewmodel.isShowAssigned(true)\n    },\n    priceAreaList: [\n      {\n        value: 1,\n        label: '按供货目录分配'\n      }, {\n        value: 2,\n        label: '手动分配'\n      }, {\n        value: 3,\n        label: '不限定报价范围'\n      }\n    ],\n    rows: dt.rows,\n    rowsAssign: dtAssign.rows,\n    columnsAssign: [{\n      title: '',\n      type: 'checkbox',\n      width: 60\n    }, {\n      title: '物料名称',\n      width: '20%',\n      field: 'productName',\n      type: 'render',\n      renderFn: function (row) {\n        var template = '<div>' + row.productName + '</div>'\n        template += '<div class=\"y-text-assist\">' + row.productDesc() + '</div>'\n        return template\n      }\n    }, {\n      title: '采购数量',\n      width: '10%',\n      field: 'purchaseamount',\n      type: 'render',\n      renderFn: function (row) {\n        return row.purchaseamount + row.unit\n      }\n    }, {\n      title: '建议供应商',\n      width: '10%',\n      field: 'suggestSupplierName'\n    }, {\n      title: '需求组织/计划员/计划部门',\n      width: '20%',\n      field: 'reqOrgName'\n    }, {\n      title: '需求时间',\n      width: '10%',\n      field: 'reqdate'\n    }, {\n      title: '备注',\n      width: '20%',\n      field: 'bmemo'\n    }],\n    columns: [{\n      title: '',\n      type: 'checkbox',\n      width: 60\n    }, {\n      title: '供应商',\n      field: 'name',\n      width: '20%'\n    }, {\n      title: '所属行业',\n      field: 'industry',\n      width: '20%'\n    }, {\n      title: '所属地区',\n      field: 'area',\n      width: '15%'\n    }, {\n      title: '经营模式',\n      field: 'types',\n      width: '15%'\n    }, {\n      title: '已分配/采购',\n      field: 'state',\n      width: '15%',\n      type: 'component',\n      compFn: function (row) {\n        return {\n          name: 'y-supplylistoper',\n          params: {\n            row: row\n          }\n        }\n      }\n    }, {\n      title: '',\n      field: 'priceArea',\n      width: '15%',\n      type: 'operation',\n      operationList: [\n        {\n          title: '取消邀请',\n          click: function (row, evt) {\n            alert('无法取消')\n            return false\n          }\n        }\n      ]\n    }]\n  }\n  // 模拟后端数据\n  viewmodel.MaterialList.push({\n    productName: 'PROD002901',\n    pritemid: '101',\n    productDesc: ko.observable('物料描述'),\n    purchaseamount: 12,\n    unit: '元',\n    suggestSupplierName: '建议供应闪',\n    id: ko.observable('1'),\n    plannerName: '计划员',\n    planDeptName: '计划部门',\n    reqdate: ko.observable('2014-01-01'),\n    bmemo: ko.observable('行备注'),\n    reqOrgName: ko.observable('需求组织名称'),\n    puorgDocName: ko.observable('采购组织名称'),\n    pureqid: ko.observable(1),\n    productSpec: ko.observable('商品规格'),\n    productType: ko.observable('商品型号'),\n    quotaUnit: ko.observable('报价单位'),\n    productCode: '物料编码'\n  })\n  viewmodel.invitedSupplyList.subscribe(function (val) {\n    dt.setSimpleData(val)\n  })\n  viewmodel.priceAreaValue.subscribe(function (val) {\n    if (val === 2) {\n      window.ycloud.$refs['invitedGrid'].setColVisibleByField('state', true)\n    } else {\n      window.ycloud.$refs['invitedGrid'].setColVisibleByField('state', false)\n    }\n  })\n  ko.applyBindings(viewmodel, document.getElementById('app'))\n  window.vm = viewmodel\n}\n\nexport default {\n  init: init,\n  template: template\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/supplylist/index.js","import ko from 'knockout'\nimport template from './supplychoose.html'\nimport './manual'\nimport './fromcategory'\nfunction init (params) {\n  this.curIndex = ko.observable(0)\n  this.tabIndex = ko.observable(1)\n  this.isShowRefer = params.isShowRefer\n  this.materialList = params.materialList || ko.observableArray()\n  this.handleFinish = function () {\n    this.isShowRefer(false)\n  }.bind(this)\n  this.items = ko.observableArray([\n    {\n      title: '手工选择',\n      state: 1\n    },\n    {\n      title: '从供货目录选择',\n      state: 2\n    }\n  ])\n  // 和items 两项值对应\n  this.handleTabChange = function (item) {\n    this.tabIndex(item.state)\n  }.bind(this)\n  this.invitedSupplyList = params.invitedSupplyList || ko.observableArray([])\n  this.allSupplyCount = ko.computed(function () {\n    return this.invitedSupplyList().length\n  }.bind(this))\n}\nko.components.register('y-supplychoose', {\n  viewModel: init,\n  template: template\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/supplylist/component/supplychoose.js","module.exports = \"<y-boxfilter>\\n  <y-state-tabs params=\\\"style:{marginBottom:0},handler: $parent.handleTabChange, index: $parent.curIndex, items: $parent.items, hideNum:true\\\"></y-state-tabs>\\n  <div class=\\\"pull-right\\\">\\n    <span style=\\\"margin-right: 10px\\\">已邀请 <span data-bind=\\\"text:$parent.allSupplyCount\\\"></span> 名供应商</span>\\n    <y-button params=\\\"type:'primary',click:$parent.handleFinish\\\">&nbsp;&nbsp;完成&nbsp;&nbsp;</y-button>\\n  </div>\\n</y-boxfilter>\\n<y-boxcontent data-bind=\\\"visible: tabIndex() == 1\\\">\\n  <y-manual params=\\\"invitedSupplyList:$parent.invitedSupplyList\\\"></y-manual>\\n</y-boxcontent>\\n<y-boxcontent data-bind=\\\"visible: tabIndex() == 2\\\">\\n  <y-fromcategory params=\\\"materialList: $parent.materialList,invitedSupplyList:$parent.invitedSupplyList\\\">\\n\\n  </y-fromcategory>\\n</y-boxcontent>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/supplylist/component/supplychoose.html\n// module id = 18\n// module chunks = 0","import ko from 'knockout'\nimport template from './manual.html'\nfunction init (params) {\n  this.columns = [\n    {\n      title: '供应商名称',\n      field: 'name',\n      width: '26%'\n    }, {\n      title: '所属行业',\n      field: 'industry',\n      width: '20%'\n    }, {\n      title: '所属地区',\n      field: 'area',\n      width: '16%'\n    }, {\n      title: '经营模式',\n      field: 'types',\n      width: '27%'\n    }, {\n      field: 'id',\n      title: '操作',\n      type: 'operation',\n      operationList: [\n        {\n          title: '邀请',\n          click: function (row) {\n            row._selected(true)\n            this.invitedSupplyList.push(row)\n          }.bind(this),\n          visible: function (row) {\n            return !row._selected()\n          }\n        },\n        {\n          title: '已邀请',\n          click: function (row, evt) {\n            row._selected(false)\n            var index = this.invitedSupplyList.indexOf(row)\n            this.invitedSupplyList.splice(index, 1)\n          }.bind(this),\n          visible: function (row) {\n            return row._selected()\n          }\n        }]\n    }\n  ]\n  this.rows = ko.observableArray()\n  this.supplyList = [{\n    value: 1,\n    label: '已交易供应商'\n  }, {\n    value: 2,\n    label: '自有合格供应商'\n  }, {\n    value: 3,\n    label: '供货目录供应商'\n  }, {\n    value: 4,\n    label: '待准入供应商'\n  }, {\n    value: 5,\n    label: '盘外供应商'\n  }]\n  this.areaList = [{\n    value: 1,\n    label: '北京'\n  }, {\n    value: 2,\n    label: '上海'\n  }, {\n    value: 3,\n    label: '天津'\n  }]\n  // 选中的供应商\n  this.invitedSupplyList = params.invitedSupplyList || ko.observableArray()\n  // 选中的id\n  this.selectedIds = ko.computed(function () {\n    return this.invitedSupplyList().map(function (supply) {\n      return supply.id\n    })\n  }.bind(this))\n  this.setDataSelected = function (selectedIds, data) {\n    data.forEach(function (item) {\n      data._selected = (selectedIds.indexOf(data.id) >= 0)\n    })\n  }\n  this.loadData = function (params) {\n    let data = [\n      {\n        id: 1,\n        name: '用友网络科技股份有限公司',\n        industry: 'IT，软件，硬件，云服务',\n        area: '北京',\n        types: '服务方式'\n      }\n    ]\n    this.setDataSelected(this.selectedIds(), data)\n    this.rows(data)\n  }.bind(this)\n  this.loadData()\n}\nko.components.register('y-manual', {\n  viewModel: init,\n  template: template\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/supplylist/component/manual.js","module.exports = \"<div class=\\\"row\\\">\\n  <div class=\\\"col-md-2\\\" style=\\\"margin-bottom: 10px\\\">\\n    <y-select params=\\\"placeholder:'备选供应商', dataList: supplyList\\\"></y-select>\\n  </div>\\n  <div class=\\\"col-md-2\\\">\\n    <y-input params=\\\"placeholder:'供应商名称'\\\"></y-input>\\n  </div>\\n  <div class=\\\"col-md-2\\\">\\n    <y-select params=\\\"placeholder:'所属地区', dataList: areaList\\\"></y-select>\\n  </div>\\n  <div class=\\\"col-md-12\\\">\\n    <y-grid params=\\\"columns: columns, rows: rows\\\"></y-grid>\\n  </div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/supplylist/component/manual.html\n// module id = 20\n// module chunks = 0","import ko from 'knockout'\nimport template from './fromcategory.html'\nfunction init (params) {\n  // 选中的供应商\n  this.invitedSupplyList = params.invitedSupplyList || ko.observableArray()\n  this.supplyLevelList = ko.observableArray()\n  this.supplyLevel = ko.observable({})\n  this.levelList = ko.observableArray()\n  this.levels = ko.observableArray()\n  this.isShowSearch = ko.observable(true)\n  this.registerMoney = ko.observable()\n  this.levelDisabled = ko.observable(true)\n  this.targetOrgVisible = ko.observable(false)\n  this.targetOrg = ko.observable(1)\n  this.supplyRows = ko.observableArray()\n  this.supplyCols = [\n    {\n      title: '供应商名称',\n      field: 'name',\n      width: '26%'\n    }, {\n      title: '所属行业',\n      field: 'industry',\n      width: '20%'\n    }, {\n      title: '所属地区',\n      field: 'area',\n      width: '16%'\n    }, {\n      title: '经营模式',\n      field: 'types',\n      width: '12%'\n    }, {\n      title: '资质',\n      field: 'types',\n      width: '13%'\n    }\n  ]\n  this.materialList = params.materialList || ko.observableArray()\n  this.handleSearch = function () {\n    this.isShowSearch(false)\n  }.bind(this)\n  this.handleEditCondition = function () {\n    this.isShowSearch(true)\n  }.bind(this)\n  this.searchCols = [\n    {\n      title: '物料名称',\n      field: 'productName',\n      width: 120\n    }, {\n      title: '采购数量',\n      field: 'purchaseamount',\n      width: 120\n    }, {\n      title: '需求说明',\n      field: 'productDesc',\n      width: 120\n    }, {\n      title: '资质要求',\n      field: 'productName',\n      width: 120\n    }\n  ]\n  this.targetOrg.subscribe(function (val) {\n    if (val === 1) {\n      this.targetOrgVisible(false)\n    } else {\n      this.targetOrgVisible(true)\n    }\n  }.bind(this))\n  // 选中的id\n  this.selectedIds = ko.computed(function () {\n    return this.invitedSupplyList().map(function (supply) {\n      return supply.id\n    })\n  }.bind(this))\n  this.serviceArea = [{\n    value: 1,\n    label: '能购服务需求组织的供应商'\n  }, {\n    value: 2,\n    label: '指定组织'\n  }]\n  // 供应商等级体系选择\n  this.supplyLevelChange = function (val) {\n    this.loadLevelList(val)\n  }.bind(this)\n  // 获取供应商等级体系列表\n  this.loadSupplyLevelList = function () {\n    this.supplyLevelList.push({\n      value: '1',\n      label: '等级体系1'\n    })\n    this.supplyLevelList.push({\n      value: '2',\n      label: '等级体系2'\n    })\n  }.bind(this)\n  // 获取等级列表（根据等级体系选项）\n  this.loadLevelList = function (val) {\n    if (val) {\n      this.levelDisabled(false)\n    } else {\n      this.levelDisabled(true)\n    }\n    this.levelList.push({\n      value: '1',\n      label: '等级1'\n    })\n    this.levelList.push({\n      value: '2',\n      label: '等级2'\n    })\n  }.bind(this)\n  this.loadSupplyLevelList()\n}\nko.components.register('y-fromcategory', {\n  viewModel: init,\n  template: template\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/supplylist/component/fromcategory.js","module.exports = \"<style>\\n  .iconWY{\\n\\n  }\\n  .iconWY:before{\\n    content: '万元'\\n  }\\n  .y-input::-webkit-outer-spin-button, .y-input::-webkit-inner-spin-button{\\n    -webkit-appearance: none;\\n  }\\n</style>\\n<div class=\\\"row\\\">\\n  <y-form params=\\\"labelWidth: '110px'\\\" data-bind=\\\"visible:isShowSearch\\\">\\n    <div class=\\\"col-md-3\\\">\\n      <y-formitem params=\\\"label:'供应商等级体系'\\\">\\n        <y-select params=\\\"value:$parentContext.$parent.supplyLevel,clearable:true,dataList:$parentContext.$parent.supplyLevelList,placeholder:'请选择',onChange:$parentContext.$parent.supplyLevelChange\\\"></y-select>\\n      </y-formitem>\\n    </div>\\n    <div class=\\\"col-md-3\\\" data-bind=\\\"visible: !$parent.levelDisabled()\\\">\\n      <y-formitem params=\\\"label:'等级'\\\">\\n        <y-select params=\\\"multiple:true,multiValue:$parentContext.$parent.levels,dataList:$parentContext.$parent.levelList,placeholder:'请选择'\\\"></y-select>\\n      </y-formitem>\\n    </div>\\n    <div class=\\\"col-md-12\\\">\\n      <y-formitem params=\\\"label:'服务范围'\\\">\\n        <y-radio class=\\\"y-inline-block\\\" params=\\\"dataList:$parentContext.$parent.serviceArea, value:$parentContext.$parent.targetOrg\\\"></y-radio>\\n        <div class=\\\"y-inline-block\\\" data-bind=\\\"visible:$parentContext.$parent.targetOrgVisible\\\" style=\\\"width: 150px\\\"><y-select></y-select></div>\\n      </y-formitem>\\n    </div>\\n    <div class=\\\"col-md-3\\\">\\n      <y-formitem params=\\\"label:'注册金额'\\\">\\n        <y-input params=\\\"value:$parentContext.$parent.registerMoney,placeholder: '大于', iconClass:'iconWY', type:'number'\\\"></y-input>\\n      </y-formitem>\\n    </div>\\n    <div class=\\\"col-md-12\\\">\\n      <y-formitem params=\\\"label:'资历要求',style:{height:'auto'}\\\">\\n        <y-grid params=\\\"maxheight:'auto',rows: $parentContext.$parent.materialList,columns:$parentContext.$parent.searchCols\\\"></y-grid>\\n      </y-formitem>\\n    </div>\\n    <div class=\\\"col-md-3\\\">\\n      <y-formitem params=\\\"label:''\\\">\\n        <y-button params=\\\"type:'primary',click:$parentContext.$parent.handleSearch\\\">搜索</y-button>\\n      </y-formitem>\\n    </div>\\n  </y-form>\\n</div>\\n<div class=\\\"row\\\" data-bind=\\\"visible:!isShowSearch()\\\">\\n  <div class=\\\"col-sm-10\\\" >\\n    <span class=\\\"y-text-primary\\\">条件：</span>\\n    <span class=\\\"y-text-assist\\\" style=\\\"margin-left: 20px\\\" >供应商等级体系：</span>\\n\\n    <y-tag params=\\\"text: supplyLevel().label ? supplyLevel().label : '--'\\\"></y-tag>\\n    <span class=\\\"y-text-assist\\\" style=\\\"margin-left: 20px\\\" data-bind=\\\"visible:levels().length > 0\\\">供应商等级：</span>\\n    <span data-bind=\\\"foreach:{data:levels, as:'item'}\\\">\\n      <y-tag params=\\\"text: item.label\\\"></y-tag>\\n    </span>\\n    <span class=\\\"y-text-assist\\\" style=\\\"margin-left: 20px\\\" >注册金额：</span>\\n    <y-tag params=\\\"text: function () {return '>' + (registerMoney() ? registerMoney() : '0') + '万'}()\\\"></y-tag>\\n  </div>\\n  <div class=\\\"col-sm-2 text-right\\\">\\n    <span class=\\\"y-text-link\\\" data-bind=\\\"click:handleEditCondition\\\">编辑条件</span>\\n  </div>\\n  <div class=\\\"col-sm-12\\\">\\n    <y-grid params=\\\"columns:supplyCols,rows:supplyRows\\\"></y-grid>\\n  </div>\\n</div>\\n\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/supplylist/component/fromcategory.html\n// module id = 22\n// module chunks = 0","import ko from 'knockout'\nimport template from './supplylistoper.html'\nfunction init (params) {\n}\nko.components.register('y-supplylistoper', {\n  viewModel: init,\n  template: template\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/supplylist/component/supplylistoper.js","module.exports = \"<div>\\n  <a href=\\\"\\\" class=\\\"y-text-link\\\">115/200</a>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/supplylist/component/supplylistoper.html\n// module id = 24\n// module chunks = 0","module.exports = \"<y-box data-bind=\\\"visible:!isShowRefer() && !isShowAssigned()\\\">\\n  <y-boxfilter params=\\\"title:'供应商参照交互'\\\">\\n  </y-boxfilter>\\n  <y-boxcontent params=\\\"title: '询价页面供应商参照'\\\">\\n    <y-checkbox params=\\\"dataList:[{label:'邀请指定供应商询价', value:'1'}], value: $root.checkboxValue\\\"></y-checkbox>\\n    <!-- ko if: $root.checkboxValue().length >= 1 -->\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-sm-2\\\"><span style=\\\"line-height: 32px\\\">邀请供应商</span></div>\\n      <div class=\\\"col-sm-7\\\">\\n        <y-form params=\\\"labelWidth: '100px'\\\">\\n          <y-formitem params=\\\"label:'报价范围：'\\\">\\n            <y-radio params=\\\"dataList:$root.priceAreaList, value:$root.priceAreaValue\\\"></y-radio>\\n          </y-formitem>\\n        </y-form>\\n      </div>\\n      <div class=\\\"col-sm-3 text-right\\\" style=\\\"line-height: 32px\\\">\\n        <a class=\\\"y-text-link\\\" data-bind=\\\"visible:$root.rows().length>0,click:$root.handleAssignArea\\\">分配报价范围</a>\\n        <a class=\\\"y-text-link\\\" data-bind=\\\"visible:$root.rows().length>0,click:$root.handleInviteSupplier\\\">邀请供应商</a>\\n      </div>\\n    </div>\\n    <y-grid params=\\\"ref:'invitedGrid',isDataTable:true,maxheight:'auto', rows: $root.rows, columns: $root.columns\\\">\\n      <div>\\n        <y-button params=\\\"click:$root.handleSupplyApplyChange\\\">邀请供应商</y-button>\\n      </div>\\n    </y-grid>\\n    <!-- /ko -->\\n  </y-boxcontent>\\n</y-box>\\n<y-box data-bind=\\\"visible:isShowRefer\\\">\\n  <y-supplychoose params=\\\"materialList: $root.MaterialList,invitedSupplyList:$parent.invitedSupplyList, isShowRefer:$parent.isShowRefer\\\"></y-supplychoose>\\n</y-box>\\n<y-modal params=\\\"visible: isShowAssigned, width:'70%',errormsg:'请选择组织',title:'分配报价品'\\\">\\n  <y-grid params=\\\"maxheight:'400px',rows:$root.MaterialList,columns:$root.columnsAssign\\\"></y-grid>\\n</y-modal>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/supplylist/index.html\n// module id = 25\n// module chunks = 0"],"sourceRoot":""}